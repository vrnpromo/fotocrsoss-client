!function i(o,s,u){function l(t,e){if(!s[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(p)return p(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var r=s[t]={exports:{}};o[t][0].call(r.exports,function(e){return l(o[t][1][e]||e)},r,r.exports,i,o,s,u)}return s[t].exports}for(var p="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(e,t,n){t.exports=e("./lib/axios")},{"./lib/axios":3}],2:[function(b,e,t){(function(c){"use strict";var h=b("./../utils"),f=b("./../core/settle"),g=b("./../helpers/buildURL"),v=b("./../helpers/parseHeaders"),m=b("./../helpers/isURLSameOrigin"),y=b("../core/createError"),_="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||b("./../helpers/btoa");e.exports=function(d){return new Promise(function(n,a){var r=d.data,i=d.headers;h.isFormData(r)&&delete i["Content-Type"];var o=new XMLHttpRequest,e="onreadystatechange",s=!1;if("test"===c.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in o||m(d.url)||(o=new window.XDomainRequest,e="onload",s=!0,o.onprogress=function(){},o.ontimeout=function(){}),d.auth){var t=d.auth.username||"",u=d.auth.password||"";i.Authorization="Basic "+_(t+":"+u)}if(o.open(d.method.toUpperCase(),g(d.url,d.params,d.paramsSerializer),!0),o.timeout=d.timeout,o[e]=function(){if(o&&(4===o.readyState||s)&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in o?v(o.getAllResponseHeaders()):null,t={data:d.responseType&&"text"!==d.responseType?o.response:o.responseText,status:1223===o.status?204:o.status,statusText:1223===o.status?"No Content":o.statusText,headers:e,config:d,request:o};f(n,a,t),o=null}},o.onerror=function(){a(y("Network Error",d,null,o)),o=null},o.ontimeout=function(){a(y("timeout of "+d.timeout+"ms exceeded",d,"ECONNABORTED",o)),o=null},h.isStandardBrowserEnv()){var l=b("./../helpers/cookies"),p=(d.withCredentials||m(d.url))&&d.xsrfCookieName?l.read(d.xsrfCookieName):void 0;p&&(i[d.xsrfHeaderName]=p)}if("setRequestHeader"in o&&h.forEach(i,function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete i[t]:o.setRequestHeader(t,e)}),d.withCredentials&&(o.withCredentials=!0),d.responseType)try{o.responseType=d.responseType}catch(e){if("json"!==d.responseType)throw e}"function"==typeof d.onDownloadProgress&&o.addEventListener("progress",d.onDownloadProgress),"function"==typeof d.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",d.onUploadProgress),d.cancelToken&&d.cancelToken.promise.then(function(e){o&&(o.abort(),a(e),o=null)}),void 0===r&&(r=null),o.send(r)})}}).call(this,b("_process"))},{"../core/createError":9,"./../core/settle":12,"./../helpers/btoa":16,"./../helpers/buildURL":17,"./../helpers/cookies":19,"./../helpers/isURLSameOrigin":21,"./../helpers/parseHeaders":23,"./../utils":25,_process:27}],3:[function(e,t,n){"use strict";var a=e("./utils"),r=e("./helpers/bind"),i=e("./core/Axios"),o=e("./defaults");function s(e){var t=new i(e),n=r(i.prototype.request,t);return a.extend(n,i.prototype,t),a.extend(n,t),n}var u=s(o);u.Axios=i,u.create=function(e){return s(a.merge(o,e))},u.Cancel=e("./cancel/Cancel"),u.CancelToken=e("./cancel/CancelToken"),u.isCancel=e("./cancel/isCancel"),u.all=function(e){return Promise.all(e)},u.spread=e("./helpers/spread"),t.exports=u,t.exports.default=u},{"./cancel/Cancel":4,"./cancel/CancelToken":5,"./cancel/isCancel":6,"./core/Axios":7,"./defaults":14,"./helpers/bind":15,"./helpers/spread":24,"./utils":25}],4:[function(e,t,n){"use strict";function a(e){this.message=e}a.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},a.prototype.__CANCEL__=!0,t.exports=a},{}],5:[function(e,t,n){"use strict";var a=e("./Cancel");function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new a(e),t(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},{"./Cancel":4}],6:[function(e,t,n){"use strict";t.exports=function(e){return!(!e||!e.__CANCEL__)}},{}],7:[function(e,t,n){"use strict";var a=e("./../defaults"),r=e("./../utils"),i=e("./InterceptorManager"),o=e("./dispatchRequest");function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e&&(e=r.merge({url:arguments[0]},arguments[1])),(e=r.merge(a,this.defaults,{method:"get"},e)).method=e.method.toLowerCase();var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},r.forEach(["delete","get","head","options"],function(n){s.prototype[n]=function(e,t){return this.request(r.merge(t||{},{method:n,url:e}))}}),r.forEach(["post","put","patch"],function(a){s.prototype[a]=function(e,t,n){return this.request(r.merge(n||{},{method:a,url:e,data:t}))}}),t.exports=s},{"./../defaults":14,"./../utils":25,"./InterceptorManager":8,"./dispatchRequest":10}],8:[function(e,t,n){"use strict";var a=e("./../utils");function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(t){a.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},{"./../utils":25}],9:[function(e,t,n){"use strict";var o=e("./enhanceError");t.exports=function(e,t,n,a,r){var i=new Error(e);return o(i,t,n,a,r)}},{"./enhanceError":11}],10:[function(e,t,n){"use strict";var a=e("./../utils"),r=e("./transformData"),i=e("../cancel/isCancel"),o=e("../defaults"),s=e("./../helpers/isAbsoluteURL"),u=e("./../helpers/combineURLs");function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}t.exports=function(t){return l(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=a.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),a.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||o.adapter)(t).then(function(e){return l(t),e.data=r(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(l(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},{"../cancel/isCancel":6,"../defaults":14,"./../helpers/combineURLs":18,"./../helpers/isAbsoluteURL":20,"./../utils":25,"./transformData":13}],11:[function(e,t,n){"use strict";t.exports=function(e,t,n,a,r){return e.config=t,n&&(e.code=n),e.request=a,e.response=r,e}},{}],12:[function(e,t,n){"use strict";var r=e("./createError");t.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},{"./createError":9}],13:[function(e,t,n){"use strict";var a=e("./../utils");t.exports=function(t,n,e){return a.forEach(e,function(e){t=e(t,n)}),t}},{"./../utils":25}],14:[function(s,u,e){(function(e){"use strict";var n=s("./utils"),a=s("./helpers/normalizeHeaderName"),t={"Content-Type":"application/x-www-form-urlencoded"};function r(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i,o={adapter:("undefined"!=typeof XMLHttpRequest?i=s("./adapters/xhr"):void 0!==e&&(i=s("./adapters/http")),i),transformRequest:[function(e,t){return a(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return 200<=e&&e<300}};o.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){o.headers[e]={}}),n.forEach(["post","put","patch"],function(e){o.headers[e]=n.merge(t)}),u.exports=o}).call(this,s("_process"))},{"./adapters/http":2,"./adapters/xhr":2,"./helpers/normalizeHeaderName":22,"./utils":25,_process:27}],15:[function(e,t,n){"use strict";t.exports=function(n,a){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];return n.apply(a,e)}}},{}],16:[function(e,t,n){"use strict";function s(){this.message="String contains an invalid character"}(s.prototype=new Error).code=5,s.prototype.name="InvalidCharacterError",t.exports=function(e){for(var t,n,a=String(e),r="",i=0,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.charAt(0|i)||(o="=",i%1);r+=o.charAt(63&t>>8-i%1*8)){if(255<(n=a.charCodeAt(i+=.75)))throw new s;t=t<<8|n}return r}},{}],17:[function(e,t,n){"use strict";var i=e("./../utils");function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(i.isURLSearchParams(t))a=t.toString();else{var r=[];i.forEach(t,function(e,t){null!=e&&(i.isArray(e)&&(t+="[]"),i.isArray(e)||(e=[e]),i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),r.push(o(t)+"="+o(e))}))}),a=r.join("&")}return a&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}},{"./../utils":25}],18:[function(e,t,n){"use strict";t.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},{}],19:[function(e,t,n){"use strict";var s=e("./../utils");t.exports=s.isStandardBrowserEnv()?{write:function(e,t,n,a,r,i){var o=[];o.push(e+"="+encodeURIComponent(t)),s.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),s.isString(a)&&o.push("path="+a),s.isString(r)&&o.push("domain="+r),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},{"./../utils":25}],20:[function(e,t,n){"use strict";t.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},{}],21:[function(e,t,n){"use strict";var o=e("./../utils");t.exports=o.isStandardBrowserEnv()?function(){var n,a=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var t=e;return a&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(e){var t=o.isString(e)?i(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0}},{"./../utils":25}],22:[function(e,t,n){"use strict";var r=e("../utils");t.exports=function(n,a){r.forEach(n,function(e,t){t!==a&&t.toUpperCase()===a.toUpperCase()&&(n[a]=e,delete n[t])})}},{"../utils":25}],23:[function(e,t,n){"use strict";var i=e("./../utils"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(e){var t,n,a,r={};return e&&i.forEach(e.split("\n"),function(e){if(a=e.indexOf(":"),t=i.trim(e.substr(0,a)).toLowerCase(),n=i.trim(e.substr(a+1)),t){if(r[t]&&0<=o.indexOf(t))return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([n]):r[t]?r[t]+", "+n:n}}),r}},{"./../utils":25}],24:[function(e,t,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},{}],25:[function(e,t,n){"use strict";var r=e("./helpers/bind"),a=e("is-buffer"),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}t.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:a,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function n(){var a={};function e(e,t){"object"==typeof a[t]&&"object"==typeof e?a[t]=n(a[t],e):a[t]=e}for(var t=0,r=arguments.length;t<r;t++)l(arguments[t],e);return a},extend:function(n,e,a){return l(e,function(e,t){n[t]=a&&"function"==typeof e?r(e,a):e}),n},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},{"./helpers/bind":15,"is-buffer":26}],26:[function(e,t,n){function a(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(a(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&a(t.slice(0,0))||!!e._isBuffer);var t}},{}],27:[function(e,t,n){var a,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(a===setTimeout)return setTimeout(t,0);if((a===o||!a)&&setTimeout)return a=setTimeout,setTimeout(t,0);try{return a(t,0)}catch(e){try{return a.call(null,t,0)}catch(e){return a.call(this,t,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:o}catch(e){a=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,p=[],d=!1,c=-1;function h(){d&&l&&(d=!1,l.length?p=l.concat(p):c=-1,p.length&&f())}function f(){if(!d){var e=u(h);d=!0;for(var t=p.length;t;){for(l=p,p=[];++c<t;)l&&l[c].run();c=-1,t=p.length}l=null,d=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new g(e,t)),1!==p.length||d||u(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.App=void 0;var a=u(e("./states/mainMenu.js")),r=u(e("./states/game.js")),i=u(e("./net/Net")),o=e("./utils/AssetService"),s=u(e("./fotoCross/GOFactory"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.phaser=new Phaser.Game(760,650,Phaser.CANVAS,"game",{preload:p,create:d})};function p(){l.net=new i.default,l.storage={onGeneralData:new Phaser.Signal},l.assetService=new o.AssetService,l.factory=new s.default}function d(){l.phaser.state.add("mainMenu",(0,a.default)()),l.phaser.state.add("game",(0,r.default)()),l.net.firstLoad(function(e){l.storage.generalData=e.general[0][1],l.storage.userData=e.user[0][1],l.storage.social=e.social,l.storage.storageData={storage:{data:{stages:{1:{stageDynamicId:0,missionId:"1",finishedWords:[1,2,3,4,5,6],selected:7}}}}},console.log(l.storage),l.phaser.state.start("mainMenu")})}new(n.App=l)},{"./fotoCross/GOFactory":30,"./net/Net":50,"./states/game.js":54,"./states/mainMenu.js":55,"./utils/AssetService":56}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=e.add.tween(t).to({alpha:0},200,Phaser.Easing.Linear.None);a.onComplete.add(function(){n&&n(),e.add.tween(t).to({alpha:1},200,Phaser.Easing.Linear.None,!0)}),a.start()}},{}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),r=e("../app"),i=l(e("./letter")),o=(l(e("./word")),l(e("./crossword"))),s=l(e("./letterPalette")),u=l(e("./cluePhoto"));function l(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.phaser=r.App.phaser}return a(e,[{key:"letter",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",a=new i.default(n),r=a.render();return r.x=e,r.y=t,a}},{key:"letterPalette",value:function(e,t,n,a){var r=new s.default(n,a),i=r.render(this.phaser);return i.x=e,i.y=t,r}},{key:"photo",value:function(e,t){var n=new u.default;return n.render(),n.graph.x=e,n.graph.y=t,n}},{key:"crossword",value:function(e){var t=new o.default;return t.render(e),t}}]),e}();n.default=p},{"../app":28,"./cluePhoto":31,"./crossword":32,"./letter":34,"./letterPalette":36,"./word":37}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),r=e("../app");var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=null,this.photo=null}return a(e,[{key:"setPhoto",value:function(e){this.photo?this.photo.loadTexture(e):(this.photo=this.graph.create(0,0,e),this.photo.x=4,this.photo.y=4,this.photo.scale.setTo(.98,.98))}},{key:"render",value:function(){return this.graph=r.App.phaser.add.group(),this.graph.create(0,0,"bg_fot"),this.graph}}]),e}();n.default=i},{"../app":28}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a,r=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),s=e("./../app"),i=e("./word"),u=(a=i)&&a.__esModule?a:{default:a};var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=[],this.graph=null}return r(e,[{key:"render",value:function(n){var a=this,r=s.App.phaser.add.group(),i=void 0,o=void 0;return n.forEach(function(e){var t=new u.default(e.text,e.direction);t.id=e.id,r.add(t.render(a.phaser)),t.graph.x=e.pos.x*t.lw,t.graph.y=e.pos.y*t.lh;for(var n=0;n<e.text.length;n++)i=e.pos.x+n*e.direction,o=e.pos.y+n*!e.direction,a.map[i]||(a.map[i]=[]),a.map[i][o]?a.map[i][o].push(t.graph.children[n]):a.map[i][o]=[t.graph.children[n]]}),n.forEach(function(e){i=e.pos.x,o=e.pos.y,a.map[i][o].forEach(function(e){var t=n.filter(function(e){return e.pos.x===i&&e.pos.y===o}).map(function(e){return e.id});e.data.instance.setPrefix(t.join("\\"))})}),r.data={instance:this},this.graph=r}},{key:"fillWords",value:function(r){var i=this;this.graph.children.forEach(function(e){var t=e.data.instance.id;if(0<=r.indexOf(t)){for(var n=e.data.instance,a=0;a<n.text.length;a++){i.map[n.graph.x/n.lw+a*n.direction][n.graph.y/n.lh+a*!n.direction].forEach(function(e){var t=e.parent.data.instance,n=e.data.instance.id,a=t.text[n];t.fillAt(n,a),e.data.instance.setState("block"),t.textArr[n]=a})}n.setState("block")}})}}]),e}();n.default=o},{"./../app":28,"./word":37}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GameFaq=void 0;var a,c=e("../app"),h=e("../gui/imgBtn"),r=e("axios");(a=r)&&a.__esModule;n.GameFaq=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=c.App.phaser.add.graphics(0,0);a.beginFill(0,.2),a.drawRect(0,0,c.App.phaser.world.width,c.App.phaser.world.height),a.endFill();var r=c.App.phaser.add.group();r.inputEnableChildren=!0,r.add(a);var i=r.create(0,0,"tut_bg");i.x=(c.App.phaser.world.width>>1)-(i.width>>1),i.y=(c.App.phaser.world.height>>1)-(i.height>>1);var o=new h.ImgBtn("btn_list_category_normal","btn_list_category_over"),s=new h.ImgBtn("btn_list_category_normal","btn_list_category_over");s.graph.scale.x=-1;var u=new h.ImgBtn("btn_exit_game_normal","btn_exit_game_over",function(){n.onClose&&n.onClose()});o.graph.visible=!1,s.graph.visible=!1,u.graph.visible=!1,r.add(o.graph),r.add(s.graph),r.add(u.graph);var l=function(){var e=0,t=r.create(0,0,p[e]);t.x=(c.App.phaser.world.width>>1)-(t.width>>1),t.y=(c.App.phaser.world.height>>1)-(t.height>>1),1<p.length&&(o.graph.x=t.x-o.graph.width-4,o.graph.y=t.y+(t.height>>1)-(o.graph.height>>1),o.callback=function(){0<=e-1&&t.loadTexture(p[--e])},s.graph.x=t.x+t.width+o.graph.width+4,s.graph.y=t.y+(t.height>>1)-(o.graph.height>>1),s.callback=function(){e+1<p.length&&t.loadTexture(p[++e])},o.graph.visible=!0,s.graph.visible=!0),u.graph.x=t.x+(t.width>>1)-(u.graph.width>>1),u.graph.y=t.y+t.height+4,u.graph.visible=!0},p=[],d=c.App.assetService.getJson();c.App.phaser.cache.checkImageKey("tutorial_0")?(d.tutorial.forEach(function(e,t){p.push("tutorial_"+t)}),l()):(c.App.phaser.load.onLoadComplete.addOnce(function(){l()},this),d.tutorial.forEach(function(e,t){c.App.phaser.load.image("tutorial_"+t,"./data/tutorial/"+e),p.push("tutorial_"+t)}),c.App.phaser.load.start()),this.graph=r}},{"../app":28,"../gui/imgBtn":43,axios:1}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),r=e("./../app");var i=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.label=e,this.prefix=t,this.state="default",this.id=null,this.graph=null,this._palette=null,this._label=null,this._prefix=null}return a(n,[{key:"render",value:function(){var e=r.App.phaser.add.group(),t=r.App.assetService.get("12х12-letter_word_normal"),n=e.create(0,0,t.atlas,t.key);return n.inputEnabled=!0,n.input.useHandCursor=!0,this._label=r.App.phaser.add.text(6,3,this.label,{font:"24px Arial",fill:"#000000",align:"center"},e),""!=this.prefix&&(this._prefix=r.App.phaser.add.text(1,1,this.prefix,{font:"12px Arial",fill:"#000000",align:"center"},e)),(this.graph=e).data={instance:this},this._label.inputEnabled=!1,e}},{key:"setPrefix",value:function(e){this.prefix=e,this._prefix?this._prefix.setText(this.prefix):this._prefix=r.App.phaser.add.text(2,0,this.prefix,{font:"12px Arial",fill:"#000000",align:"center"},this.graph)}},{key:"hide",value:function(){this.graph.visible=!1}},{key:"show",value:function(){this.graph.visible=!0}},{key:"setState",value:function(e){if("block"!==this.state){var t=void 0,n=this.graph.children[0];switch(e){case"default":t="12х12-letter_word_normal";break;case"over":t="12х12-letter_word_selected";break;case"block":t="12х12-letter_word_completed"}n.frameName=r.App.assetService.get(t).key,this.state=e}}},{key:"text",set:function(e){"block"!=this.state&&(this.label=e.toUpperCase(),this._label.setText(this.label))}}]),n}();n.default=i},{"./../app":28}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LetterCandidate=void 0;var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),r=e("./../app"),i=e("../gui/imgBtn");n.LetterCandidate=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.label=e,this.id=null,this.graph=null,this._palette=null,this._label=null}return a(t,[{key:"render",value:function(){var e=r.App.phaser.add.group(),t=new i.ImgBtn("letter_candidate_normal","letter_candidate_over");return e.add(t.graph),this._label=r.App.phaser.add.text(14,8,this.label,{font:"28px Arial",fill:"#000000",align:"center"},e),(this.graph=e).data={instance:this},this._label.inputEnabled=!1,e}},{key:"hide",value:function(){this.graph.visible=!1}},{key:"show",value:function(){this.graph.visible=!0}},{key:"text",set:function(e){this.label=e.toUpperCase(),this._label.setText(this.label)}}]),t}()},{"../gui/imgBtn":43,"./../app":28}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=e("./letterCandidate");var r=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.columnNum=e,this.rowNum=t,this.graph=null}return a(n,[{key:"render",value:function(e){for(var t=e.add.group(),n=0;n<this.rowNum;n++)for(var a=0;a<this.columnNum;a++){var r=new i.LetterCandidate(String.fromCharCode(Math.floor(32*Math.random())+1072)).render();r.x=a*(r.width+5),r.y=n*(r.height+4),t.add(r)}return t.data={instance:this},this.graph=t}},{key:"generate",value:function(e){for(var t=e.length,n=e.split(""),a=[],r=0;r<this.graph.children.length;r++)a.push(r<t?n.splice(Math.floor(Math.random()*n.length),1)[0]:String.fromCharCode(Math.floor(32*Math.random())+1072));this.graph.children.forEach(function(e,t){e.data.instance.text=a.splice(Math.floor(Math.random()*a.length),1)[0],e.data.instance.show()})}}]),n}();n.default=r},{"./letterCandidate":35}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a,r=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=e("././../app"),o=e("./../effects/fadeOutIn");(a=o)&&a.__esModule;var s=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.id=null,this.graph=null,this.text=e,this.textArr=[],this.direction=t,this.lw=34,this.lh=34}return r(n,[{key:"render",value:function(){for(var e=i.App.phaser.add.group(),t=(this.text.length,0);t<this.text.length;t++){var n=i.App.factory.letter((0==this.direction?0:t)*this.lw,(1==this.direction?0:t)*this.lh);n.id=t,e.add(n.graph),this.textArr.push("")}return e.data={instance:this},this.graph=e}},{key:"fill",value:function(e,t){var n=null,a=void 0;return this.graph.children.some(function(e,t){return 0==e.data.instance.label.length&&(n=e.data.instance,a=t),null!=n}),!!n&&(n.text=e,n._palette=t,this.textArr[a]=e,n)}},{key:"fillAt",value:function(e,t){this.graph.children[e].data.instance.text=t,this.textArr[e]=t}},{key:"free",value:function(){var n=this;this.graph.children.forEach(function(e){var t=e.data.instance;t.setState("default"),n.fillAt(t.id,"")})}},{key:"isFilled",value:function(){return this.textArr.join("").length===this.text.length}},{key:"isCorrect",value:function(){return this.text===this.textArr.join("")}},{key:"setState",value:function(t){this.graph.children.forEach(function(e){e.data.instance.setState(t)})}}]),n}();n.default=s},{"./../effects/fadeOutIn":29,"././../app":28}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Booster=void 0;var u=e("../../app");function l(){return"btn_buy_booster_"+(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"normal")}n.Booster=function e(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id="type0";var a=u.App.phaser.add.group(),r=u.App.assetService.get(l("normal")),i=u.App.phaser.add.sprite(0,0,r.atlas,r.key);i.inputEnabled=!0,i.input.useHandCursor=!0,a.add(i);var o=u.App.storage.generalData.shop_booster_set_stat.find(function(e){return e.id==u.App.storage.generalData.shop_booster_stat[0].id}),s=u.App.storage.generalData.booster_stat.find(function(e){return e.id==o.type});this.label=u.App.phaser.add.text(4,4,s.name,{font:"14px Arial",fill:"#000000",align:"center",wordWrap:!0},a),this.priceOrCount=u.App.phaser.add.text(34,40,"0",{font:"18px Arial",fill:"#000000",align:"center",wordWrap:!0},a),this.label.lineSpacing=-6,i.events.onInputOver.add(function(){i.frameName=u.App.assetService.get(l("over")).key}),i.events.onInputOut.add(function(){i.frameName=u.App.assetService.get(l("normal")).key}),i.events.onInputDown.add(function(){t.callback&&t.callback()}),this.data={instance:this},this.graph=a,this.callback=n}},{"../../app":28}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Btn=void 0;var u=e("../app");n.Btn=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:96,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:96,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=u.App.phaser.add.bitmapData(t,n);i.draw("gui_game_btn",0,0,t,n);var o=u.App.phaser.add.group(),s=o.create(0,0,i);s.inputEnabled=!0,s.input.useHandCursor=!0,this.label=u.App.phaser.add.text(0,0,a,{font:"24px Arial",fill:"#000000",align:"center",wordWrap:!0},o),this.label.lineSpacing=-10,this.label.x=(t>>1)-(this.label.width>>1),this.label.y=(n>>1)-(this.label.height>>1),(this.graph=o).onChildInputDown.add(function(e){r&&r()})}},{"../app":28}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HorizontalListController=void 0;var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),r=e("../../app");n.HorizontalListController=function(){function i(e,t,n,a){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.position=r,this.pageSize=e,this.size=0,this.listGroup=t,this.btnPrev=n.graph,this.btnNext=a.graph,n.callback=this.prev.bind(this),a.callback=this.next.bind(this),this.update()}return a(i,[{key:"update",value:function(){this.size=this.listGroup.children.length,this.size>this.pageSize?(this.btnNext.x=this.listGroup.x+this.listGroup.mask.width-this.btnNext.width+4,this.btnPrev.x=this.listGroup.x-this.btnPrev.width-10,this.btnNext.visible=!0,this.btnPrev.visible=!0):(this.btnNext.visible=!1,this.btnPrev.visible=!1)}},{key:"next",value:function(){this.position+this.pageSize<this.size&&(++this.position,r.App.phaser.add.tween(this.listGroup).to({x:this.listGroup.mask.x-this.listGroup.mask.width/this.pageSize*this.position},200,Phaser.Easing.Linear.None,!0))}},{key:"prev",value:function(){0<this.position&&(--this.position,r.App.phaser.add.tween(this.listGroup).to({x:this.listGroup.mask.x-this.listGroup.mask.width/this.pageSize*this.position},200,Phaser.Easing.Linear.None,!0))}}]),i}()},{"../../app":28}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FriendItem=void 0;var o=e("./imgBtn"),s=e("../app");n.FriendItem=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=s.App.phaser.add.group();if(t){this.fid=t.id;var a=s.App.assetService.get("img_friend_element_back"),r=s.App.phaser.add.image(0,0,a.atlas,a.key);n.add(r),this.name=s.App.phaser.add.text(0,78,t.nickname?t.nickname:t.first_name+" "+t.last_name,{font:"18px Arial",fill:"#000000",align:"center"},n),this.name.width>r.width&&(this.name.width=r.width-4),this.name.x=(r.width>>1)-(this.name.width>>1);s.App.phaser.load.image("social_friend_"+t.id,t.img),s.App.phaser.load.onLoadComplete.addOnce(function(){var e=s.App.phaser.add.image(0,0,"social_friend_"+this.fid);e.x=(r.width>>1)-(e.width>>1),e.y=(r.height>>1)-(e.height>>1),n.add(e)}.bind(this),this),s.App.phaser.load.start()}else{var i=new o.ImgBtn("btn_invite_friends2_normal","btn_invite_friends2_over");i.graph.x=0,i.graph.y=0,i.graph.inputEnabled=!0,i.graph.input.useHandCursor=!0,n.add(i.graph)}n.data={instance:this},this.graph=n}},{"../app":28,"./imgBtn":43}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FriendsList=void 0;var r=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=e("./controllers/horizontalListController"),s=e("./friendsItem"),u=e("../app"),o=e("./imgBtn");var l=null,p=null;n.FriendsList=function(){function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.graph=u.App.phaser.add.group(),this.size=5,this.space=8,this.friends=u.App.phaser.add.group(),l=u.App.phaser.add.graphics(0,0),this.friends.mask=l,this.graph.add(this.friends),this.graph.add(l);var e=new o.ImgBtn("btn_list_friends_left_normal","btn_list_friends_left_over"),t=new o.ImgBtn("btn_list_friends_left_normal","btn_list_friends_left_over"),n=new o.ImgBtn("btn_invite_friends_normal","btn_invite_friends_over");t.graph.scale.x=-1,n.graph.x=90,e.graph.y=85,t.graph.y=85,n.graph.y=0,this.graph.add(e.graph),this.graph.add(t.graph),this.graph.add(n.graph),l.inputEnabled=!1,p=new i.HorizontalListController(this.size,this.friends,e,t),n.callback=function(){return u.App.net.showInviteFriendsBox()}}return r(a,[{key:"fill",value:function(e){var a=this;e.count||(e={count:0,items:[]}),this.friends.removeAll(),this.friends.x=0,this.friends.y=60,e.items.forEach(function(e,t){var n=new s.FriendItem({id:e.id,nickname:e.nickname,first_name:e.first_name,last_name:e.last_name,img:e.photo_50});n.graph.x=t*(n.graph.width+a.space),n.graph.y=0,a.friends.add(n.graph)});for(var t=this.size-e.count,n=this.friends.children[this.friends.children.length-1],r=0<this.friends.children.length?n.x+n.width+this.space:0,i=0;i<(0<t?t:1);i++){var o=new s.FriendItem;o.graph.x=r+i*(o.graph.width+this.space),o.graph.y=0,this.friends.add(o.graph),o.graph.onChildInputDown.add(function(e){u.App.net.showInviteFriendsBox()})}l.beginFill(16777215),l.drawRect(0,0,this.size*(this.friends.children[0].width+this.space),this.friends.children[0].height),l.x=this.friends.x,l.y=this.friends.y,p.update()}}]),a}()},{"../app":28,"./controllers/horizontalListController":40,"./friendsItem":41,"./imgBtn":43}],43:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ImgBtn=void 0;var s=e("../app");n.ImgBtn=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=s.App.assetService.get(t),o=s.App.phaser.add.sprite(0,0,i.atlas,i.key);o.inputEnabled=!0,o.input.useHandCursor=!0,o.events.onInputOver.add(function(){o.frameName=s.App.assetService.get(a).key}),o.events.onInputOut.add(function(){o.frameName=s.App.assetService.get(t).key}),o.events.onInputDown.add(function(){n.callback&&n.callback()}),this.data={instance:this},this.graph=o,this.callback=r}},{"../app":28}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RightAswer=n.WrongAnswer=void 0;var o=e("../app"),a=e("./imgBtn");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.WrongAnswer=function e(){s(this,e),this.graph=new a.ImgBtn("btn_word_wrong_normal","btn_word_wrong_over")},n.RightAswer=function e(t){s(this,e);var n=o.App.phaser.add.graphics(0,0);n.beginFill(0,.2),n.drawRect(0,0,o.App.phaser.world.width,o.App.phaser.world.height),n.endFill(),n.beginFill(16777215,1),n.lineStyle(2,13487565,1),n.drawRect((o.App.phaser.world.width>>1)-150,(o.App.phaser.world.height>>1)-200,300,400),n.endFill();var a=o.App.phaser.add.group();a.inputEnableChildren=!0,a.add(n);var r=o.App.phaser.add.text(0,0,"Слово разгадано!",{font:"24px Arial",fill:"#000000",align:"center"},a),i=o.App.phaser.add.text(0,0,t.toUpperCase(),{font:"24px Arial",fill:"#000000",align:"center"},a);r.x=(o.App.phaser.world.width>>1)-(r.width>>1),r.y=(o.App.phaser.world.height>>1)-200+32,i.x=(o.App.phaser.world.width>>1)-(i.width>>1),i.y=(o.App.phaser.world.height>>1)-(i.height>>1),this.graph=a}},{"../app":28,"./imgBtn":43}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.MoneyBtn=void 0;var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),r=e("../app"),i=e("./imgBtn");n.MoneyBtn=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.graph=r.App.phaser.add.group();var e=r.App.assetService.get("img_money_back");this.graph.create(0,0,e.atlas,e.key),this.label=r.App.phaser.add.text(54,14,r.App.storage.userData?r.App.storage.userData.user.money1:"0",{font:"24px Arial",fill:"#000000",align:"center"},this.graph),this.label.x=84-(this.label.width>>1);var t=new i.ImgBtn("btn_add_money_normal","btn_add_money_over");this.graph.add(t.graph),t.graph.x=130,t.graph.y=10}return a(n,[{key:"setMoney",value:function(e){this.label.setText(e),this.label.x=84-(this.label.width>>1)}}]),n}()},{"../app":28,"./imgBtn":43}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SelectLevelBtn=void 0;var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=e("./../app"),o=e("./imgBtn");n.SelectLevelBtn=function(){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.width=200,this.height=240;var t=i.App.phaser.add.group();t.inputEnableChildren=!0;var n=i.App.assetService.get("img_category_back");t.create(0,0,n.atlas,n.key);var a=new o.ImgBtn("btn_play_normal","btn_play_over");a.graph.x=8,a.graph.y=this.height-60,t.add(a.graph),this.lvlMissionCount=i.App.phaser.add.text(0,140,"0 / 40",{font:"24px Arial",fill:"#000000",align:"center"},t),this.lvlMissionCount.x=(this.width>>1)-(this.lvlMissionCount.width>>1),t.data={instance:this},this.graph=t,this.stageId=null,this.missionId=0}return a(r,[{key:"setProgress",value:function(e,t){this.lvlMissionCount.setText(e+"/"+t),this.lvlMissionCount.x=(this.width>>1)-(this.lvlMissionCount.width>>1)}}]),r}()},{"./../app":28,"./imgBtn":43}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.StagesList=void 0;var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),s=e("../app"),u=e("./selectLevelBtn"),r=e("./controllers/horizontalListController"),i=e("./imgBtn"),l=e("../net/saveToStorage");var p=null,d=null;n.StagesList=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.graph=s.App.phaser.add.group(),this.stages=s.App.phaser.add.group(),p=s.App.phaser.add.graphics(0,0),this.stages.mask=p,this.graph.add(this.stages),this.graph.add(p);var e=new i.ImgBtn("btn_list_category_normal","btn_list_category_over"),t=new i.ImgBtn("btn_list_category_normal","btn_list_category_over");t.graph.scale.x=-1,e.graph.y=60,t.graph.y=60,this.graph.add(e.graph),this.graph.add(t.graph),p.inputEnabled=!1,d=new r.HorizontalListController(3,this.stages,e,t)}return a(n,[{key:"fill",value:function(a){var r=this;if(a){this.stages.removeAll(),this.stages.x=0;var i=void(this.stages.y=0),o={};s.App.storage.storageData&&s.App.storage.storageData.storage&&s.App.storage.storageData.storage.data&&(o=s.App.storage.storageData.storage.data),s.App.storage.stagesMissions={},a.stage_stat.forEach(function(t,e){(i=new u.SelectLevelBtn(t.description)).stageId=t.id,i.missionId=(a.mission_stat.find(function(e){return e.stage_stat_id===t.id})||{}).id,o&&o.stages&&o.stages[t.id]&&o.stages[t.id].missionId&&(i.missionId=o.stages[t.id].missionId),s.App.storage.stagesMissions[t.id]=a.mission_stat.filter(function(e){return e.stage_stat_id===t.id}).length,i.setProgress(0,s.App.storage.stagesMissions[t.id]),i.graph.x=e*(i.width+8),i.graph.y=0,r.stages.add(i.graph);var n=!1;s.App.storage.storageData.storage.data.stages[t.id]&&s.App.storage.storageData.storage.data.stages[t.id].finished&&(n=s.App.storage.storageData.storage.data.stages[t.id].finished),n?i.graph.alpha=.5:i.graph.onChildInputDown.add(function(e){s.App.storage.stageId=e.parent.data.instance.stageId,s.App.storage.missionId=e.parent.data.instance.missionId,s.App.storage.storageData.storage.data.stages[s.App.storage.stageId]&&(s.App.storage.stageDynamicId=s.App.storage.storageData.storage.data.stages[s.App.storage.stageId].stageDynamicId),s.App.net.stageStart(s.App.storage.stageId,function(e){console.log("stageStart: ",e),e.stage&&(s.App.storage.stageDynamicId=e.stage.id,s.App.storage.storageData.storage.data.stages[s.App.storage.stageId]||(s.App.storage.storageData.storage.data.stages[s.App.storage.stageId]={}),s.App.storage.storageData.storage.data.stages[s.App.storage.stageId].stageDynamicId=s.App.storage.stageDynamicId,(0,l.saveToStorage)(s.App.storage.storageData.storage.data,function(){})),s.App.net.missionStart(s.App.storage.missionId,function(e){console.log("missionStart: ",e),e.mission&&e.mission.start_key&&(s.App.storage.missionKey=e.mission.start_key),s.App.phaser.state.start("game")})})})}),p.beginFill(16777215),p.drawRect(0,0,3*(i.width+8),i.height),p.x=this.stages.x,p.y=this.stages.y,d.update()}}}]),n}()},{"../app":28,"../net/saveToStorage":51,"./controllers/horizontalListController":40,"./imgBtn":43,"./selectLevelBtn":46}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DataLoader=void 0;var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=r(e("axios"));r(e("./MD5"));function r(e){return e&&e.__esModule?e:{default:e}}n.DataLoader=function(){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r)}return a(r,null,[{key:"RESPONSE_DATA_FORMAT",get:function(){return"JSON"}},{key:"API_VERSION",get:function(){return"1.0"}},{key:"SERVER_API_URL",get:function(){return"https://maganza.ru/fotocrossword/od/htdocs/index.php"}},{key:"SERVER_LEVELS_URL",get:function(){return"https://appcdn.ru/fotocrossword2/lvl"}},{key:"SERVER_IMGS_URL",get:function(){return"https://appcdn.ru/fotocrossword2/lvl_img"}},{key:"api_id",get:function(){return"3226070"}},{key:"secret_key",get:function(){return"zyn1WEQdzV92jTYqDevK"}},{key:"key_data",get:function(){return"unique_key_for_GetSet_storage_data"}}]),a(r,[{key:"request_obf",value:function(e){var t,n,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;2<arguments.length&&void 0!==arguments[2]&&arguments[2],3<arguments.length&&void 0!==arguments[3]&&arguments[3];return i.default.get(r.SERVER_API_URL,{params:(t=e,n=a,{m:"|||uid||"+n.uid+"|||s_key||"+(n.s_key||-1)+"|||m||0||0||"+t+"|||m||0||1||"+(JSON.stringify(n.data)||{})})})}}]),r}()},{"./MD5":49,axios:1}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();var r=function(){function d(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d)}return a(d,null,[{key:"encrypt",value:function(e){var t,n,a,r,i,o,s,u,l,p;for(e=d.Utf8Encode(e),t=d.ConvertToWordArray(e),s=1732584193,u=4023233417,l=2562383102,p=271733878,n=0;n<t.length;n+=16)s=d.FF(a=s,r=u,i=l,o=p,t[n+0],7,3614090360),p=d.FF(p,s,u,l,t[n+1],12,3905402710),l=d.FF(l,p,s,u,t[n+2],17,606105819),u=d.FF(u,l,p,s,t[n+3],22,3250441966),s=d.FF(s,u,l,p,t[n+4],7,4118548399),p=d.FF(p,s,u,l,t[n+5],12,1200080426),l=d.FF(l,p,s,u,t[n+6],17,2821735955),u=d.FF(u,l,p,s,t[n+7],22,4249261313),s=d.FF(s,u,l,p,t[n+8],7,1770035416),p=d.FF(p,s,u,l,t[n+9],12,2336552879),l=d.FF(l,p,s,u,t[n+10],17,4294925233),u=d.FF(u,l,p,s,t[n+11],22,2304563134),s=d.FF(s,u,l,p,t[n+12],7,1804603682),p=d.FF(p,s,u,l,t[n+13],12,4254626195),l=d.FF(l,p,s,u,t[n+14],17,2792965006),u=d.FF(u,l,p,s,t[n+15],22,1236535329),s=d.GG(s,u,l,p,t[n+1],5,4129170786),p=d.GG(p,s,u,l,t[n+6],9,3225465664),l=d.GG(l,p,s,u,t[n+11],14,643717713),u=d.GG(u,l,p,s,t[n+0],20,3921069994),s=d.GG(s,u,l,p,t[n+5],5,3593408605),p=d.GG(p,s,u,l,t[n+10],9,38016083),l=d.GG(l,p,s,u,t[n+15],14,3634488961),u=d.GG(u,l,p,s,t[n+4],20,3889429448),s=d.GG(s,u,l,p,t[n+9],5,568446438),p=d.GG(p,s,u,l,t[n+14],9,3275163606),l=d.GG(l,p,s,u,t[n+3],14,4107603335),u=d.GG(u,l,p,s,t[n+8],20,1163531501),s=d.GG(s,u,l,p,t[n+13],5,2850285829),p=d.GG(p,s,u,l,t[n+2],9,4243563512),l=d.GG(l,p,s,u,t[n+7],14,1735328473),u=d.GG(u,l,p,s,t[n+12],20,2368359562),s=d.HH(s,u,l,p,t[n+5],4,4294588738),p=d.HH(p,s,u,l,t[n+8],11,2272392833),l=d.HH(l,p,s,u,t[n+11],16,1839030562),u=d.HH(u,l,p,s,t[n+14],23,4259657740),s=d.HH(s,u,l,p,t[n+1],4,2763975236),p=d.HH(p,s,u,l,t[n+4],11,1272893353),l=d.HH(l,p,s,u,t[n+7],16,4139469664),u=d.HH(u,l,p,s,t[n+10],23,3200236656),s=d.HH(s,u,l,p,t[n+13],4,681279174),p=d.HH(p,s,u,l,t[n+0],11,3936430074),l=d.HH(l,p,s,u,t[n+3],16,3572445317),u=d.HH(u,l,p,s,t[n+6],23,76029189),s=d.HH(s,u,l,p,t[n+9],4,3654602809),p=d.HH(p,s,u,l,t[n+12],11,3873151461),l=d.HH(l,p,s,u,t[n+15],16,530742520),u=d.HH(u,l,p,s,t[n+2],23,3299628645),s=d.II(s,u,l,p,t[n+0],6,4096336452),p=d.II(p,s,u,l,t[n+7],10,1126891415),l=d.II(l,p,s,u,t[n+14],15,2878612391),u=d.II(u,l,p,s,t[n+5],21,4237533241),s=d.II(s,u,l,p,t[n+12],6,1700485571),p=d.II(p,s,u,l,t[n+3],10,2399980690),l=d.II(l,p,s,u,t[n+10],15,4293915773),u=d.II(u,l,p,s,t[n+1],21,2240044497),s=d.II(s,u,l,p,t[n+8],6,1873313359),p=d.II(p,s,u,l,t[n+15],10,4264355552),l=d.II(l,p,s,u,t[n+6],15,2734768916),u=d.II(u,l,p,s,t[n+13],21,1309151649),s=d.II(s,u,l,p,t[n+4],6,4149444226),p=d.II(p,s,u,l,t[n+11],10,3174756917),l=d.II(l,p,s,u,t[n+2],15,718787259),u=d.II(u,l,p,s,t[n+9],21,3951481745),s=d.AddUnsigned(s,a),u=d.AddUnsigned(u,r),l=d.AddUnsigned(l,i),p=d.AddUnsigned(p,o);return(d.WordToHex(s)+d.WordToHex(u)+d.WordToHex(l)+d.WordToHex(p)).toLowerCase()}},{key:"RotateLeft",value:function(e,t){return e<<t|e>>>32-t}},{key:"AddUnsigned",value:function(e,t){var n,a,r,i,o;return r=2147483648&e,i=2147483648&t,o=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(a=1073741824&t)?2147483648^o^r^i:n|a?1073741824&o?3221225472^o^r^i:1073741824^o^r^i:o^r^i}},{key:"F",value:function(e,t,n){return e&t|~e&n}},{key:"G",value:function(e,t,n){return e&n|t&~n}},{key:"H",value:function(e,t,n){return e^t^n}},{key:"I",value:function(e,t,n){return t^(e|~n)}},{key:"FF",value:function(e,t,n,a,r,i,o){return e=d.AddUnsigned(e,d.AddUnsigned(d.AddUnsigned(d.F(t,n,a),r),o)),d.AddUnsigned(d.RotateLeft(e,i),t)}},{key:"GG",value:function(e,t,n,a,r,i,o){return e=d.AddUnsigned(e,d.AddUnsigned(d.AddUnsigned(d.G(t,n,a),r),o)),d.AddUnsigned(d.RotateLeft(e,i),t)}},{key:"HH",value:function(e,t,n,a,r,i,o){return e=d.AddUnsigned(e,d.AddUnsigned(d.AddUnsigned(d.H(t,n,a),r),o)),d.AddUnsigned(d.RotateLeft(e,i),t)}},{key:"II",value:function(e,t,n,a,r,i,o){return e=d.AddUnsigned(e,d.AddUnsigned(d.AddUnsigned(d.I(t,n,a),r),o)),d.AddUnsigned(d.RotateLeft(e,i),t)}},{key:"ConvertToWordArray",value:function(e){for(var t,n=e.length,a=n+8,r=16*((a-a%64)/64+1),i=[],o=0,s=0;s<n;)o=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<o,s++;return o=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<o,i[r-2]=n<<3,i[r-1]=n>>>29,i}},{key:"WordToHex",value:function(e){var t,n="",a="";for(t=0;t<=3;t++)n+=(a="0"+(e>>>8*t&255).toString(16)).substr(a.length-2,2);return n}},{key:"Utf8Encode",value:function(e){for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):(127<a&&a<2048?t+=String.fromCharCode(a>>6|192):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128)),t+=String.fromCharCode(63&a|128))}return t}}]),d}();n.default=r},{}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),s=e("./DataLoader"),u=e("./social/vk"),l=e("./social/ok");var p=void 0,r=function(){function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.oDataLoader=new s.DataLoader;var t,n=/\+/g,a=/([^&=]+)=?([^&]*)/g,r=function(e){return decodeURIComponent(e.replace(n," "))},i=window.location.search.substring(1);for(e={};t=a.exec(i);)e[r(t[1])]=r(t[2]);p=e.api_url&&-1<e.api_url.indexOf("vk.com")?new u.VKApi(e.access_token):e.api_server&&-1<e.api_server.indexOf("ok.ru")?new l.OK:null,console.log(e)}return a(o,[{key:"init",value:function(e){this.oDataLoader.SERVER_URL=e.SERVER_URL,this.oDataLoader.api_id=String(e.api_id),this.oDataLoader.secret_key=e.secret_key}},{key:"getGeneralData",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.oDataLoader.request_obf("general.get_data",{}).then(e).catch(t)}},{key:"getOrCreateUser",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.oDataLoader.request_obf("user.init",{}).then(e).catch(t)}},{key:"getUserProfile",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.oDataLoader.request_obf("user.get_profile_data",{}).then(e).catch(t)}},{key:"showInviteFriendsBox",value:function(){p.showInviteFriendsBox()}},{key:"firstLoad",value:function(t){var n=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a={social:{}};this.oDataLoader.request_obf("general.get_data",{}).then(function(e){return a.general=e.data,n.oDataLoader.request_obf("user.init",{uid:10541666})}).then(function(e){return a.user=e.data,p?p.getFriends():Promise.resolve({})}).then(function(e){a.social.friends=e,t(a)}).catch(e)}},{key:"storageGet",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this.oDataLoader.request_obf("storage.get",{uid:10541666,data:{key_data:e}}).then(function(e){t(e.data[0][1])}).catch(n)}},{key:"storageSet",value:function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;this.oDataLoader.request_obf("storage.set",{uid:10541666,data:{key_data:e,data:t}}).then(function(e){n(e.data[0][1])}).catch(a)}},{key:"stageStart",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this.oDataLoader.request_obf("mission.stage_start",{uid:10541666,data:{stage_stat_id:Number(e),cost_type:0}}).then(function(e){t(e.data[0][1])}).catch(n)}},{key:"stageEnd",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this.oDataLoader.request_obf("mission.stage_end",{uid:10541666,data:{id:Number(e)}}).then(function(e){t(e.data[0][1])}).catch(n)}},{key:"missionStart",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this.oDataLoader.request_obf("mission.start",{uid:10541666,data:{mission_stat_id:Number(e)}}).then(function(e){t(e.data[0][1])}).catch(n)}},{key:"missionEnd",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this.oDataLoader.request_obf("mission.end",{uid:10541666,data:{start_key:e,point:1}}).then(function(e){t(e.data[0][1])}).catch(n)}},{key:"setStorage",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.oDataLoader.request_obf("storage.set",{},e,t)}},{key:"getBoostCost",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.oDataLoader.request_obf("getBoostsCost",{},e,t)}},{key:"getGameProps",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.oDataLoader.request_obf("getGameProps",{},e,t)}},{key:"getGameStatistic",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:100;this.oDataLoader.request_obf("getGameStatistic",{type:e,source:n,limit:a},t)}},{key:"getSettings",value:function(e,t){this.oDataLoader.request_obf("getSettings",{},e,t)}},{key:"getTournamentLog",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.oDataLoader.request_obf("getTournamentLog",{account:t},e)}},{key:"getUserRating",value:function(e,t){this.oDataLoader.request_obf("getUserRating",{uid:e},t)}},{key:"getExtendedGoods",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.oDataLoader.request_obf("getExtendedGoods",{},e,t)}},{key:"buyBoostItems",value:function(e,t,n,a,r){this.oDataLoader.request_obf("buyBoostItems",{uid:e,nums:t,accounts:n},a,r)}},{key:"buyTournamentTicket",value:function(e,t){this.oDataLoader.request_obf("buyTournamentTicket",{uid:e},t)}},{key:"getGiftStatus",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this.oDataLoader.request_obf("getGiftStatus",{uid:e},t,n)}},{key:"getUserBoosts",value:function(e,t){this.oDataLoader.request_obf("getUserBoosts",{uid:e},t)}},{key:"getUserProfile",value:function(e,t){for(var n=String(e.uid),a=0;a<e.aAppFriends.length;a++)n+=","+String(e.aAppFriends[a].uid);this.oDataLoader.request_obf("getUserProfile",{uids:e.uid,fids:n,entering:{name:e.name,surname:e.surname,gender:e.gender,city:e.city,country:e.country}},t)}},{key:"getUserAndFriendProfile",value:function(e,t){for(var n=String(e.uid),a=0;a<e.aAppFriends.length;a++)n+=","+e.aAppFriends[a].uid;this.oDataLoader.request_obf("getUserProfile",{uids:n,fids:n},t)}},{key:"giftPowerItem",value:function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"Принимай энергию в подарок";this.oDataLoader.request_obf("giftPowerItem",{from_uid:e,to_uid:t,message:a},n)}},{key:"giftBoostItem",value:function(e,t,n,a){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"Принимай boost в подарок!";this.oDataLoader.request_obf("giftBoostItem",{from_uid:e,to_uid:t,num:n,message:r},a)}},{key:"useBoost",value:function(e,t,n){3<arguments.length&&void 0!==arguments[3]&&arguments[3];this.oDataLoader.request_obf("useBoost",{uid:e,num:t},n)}},{key:"getUnreadMessage",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this.oDataLoader.request_obf("getUnreadMessages",{uid:e},t,n)}},{key:"sendBoostRequest",value:function(e,t,n,a){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"Не мог бы ты мне выслать boost.";this.oDataLoader.request_obf("sendBoostRequest",{from_uid:e,to_uid:t,num:n,message:r},a)}},{key:"sendPowerRequest",value:function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"Не мог бы ты мне выслать энергии.";this.oDataLoader.request_obf("sendPowerRequest",{from_uid:e,to_uid:t,message:a},n)}},{key:"setMessagesAsRead",value:function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;this.oDataLoader.request_obf("setMessagesAsRead",{uid:e,mids:t},n,a)}},{key:"startGame",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this.oDataLoader.request_obf("startGame",{uid:e},t,n)}},{key:"storeGameResult",value:function(e,t,n,a){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;this.oDataLoader.request_obf("storeGameResult",{uid:e,score:t,experience:n},a,r)}},{key:"puzzle_buyCategory",value:function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;this.oDataLoader.request_obf("puzzle_buyCategory",{uid:e,cid:t},n,a)}},{key:"puzzle_buyLevel",value:function(e,t,n,a,r){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;""==a?this.oDataLoader.request_obf("puzzle_buyLevel",{uid:e,cid:t,lid:n},r,i):this.oDataLoader.request_obf("puzzle_buyLevel",{uid:e,cid:t,lid:n,payboost:a},r,i)}},{key:"puzzle_clearTrash",value:function(e,t,n,a,r){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;this.oDataLoader.request_obf("puzzle_clearTrash",{uid:e,cid:t,lid:n,iid:a},r,i)}},{key:"puzzle_completedGame",value:function(e,t,n,a,r,i){var o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:null;this.oDataLoader.request_obf("puzzle_completedGame",{uid:e,cid:t,lid:n,iid:a,word:r},i,o)}},{key:"puzzle_getCategorys",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.oDataLoader.request_obf("puzzle_getCategorys",{},e,t)}},{key:"puzzle_getConfig",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.oDataLoader.request_obf("puzzle_getConfig",{},e,t)}},{key:"puzzle_getImages",value:function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;this.oDataLoader.request_obf("puzzle_getImages",{lid:t,cid:e},n,a)}},{key:"puzzle_getLevels",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this.oDataLoader.request_obf("puzzle_getLevels",{cid:e},t,n)}},{key:"puzzle_getTitles",value:function(e,t,n,a,r){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;this.oDataLoader.request_obf("puzzle_getTitles",{uid:e,cid:t,lid:n,iid:a},r,i)}},{key:"puzzle_getUserCategorys",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this.oDataLoader.request_obf("puzzle_getUserCategorys",{uid:e},t,n)}},{key:"puzzle_getUserImage",value:function(e,t,n,a){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;this.oDataLoader.request_obf("puzzle_getUserImages",{uid:e,cid:t,lid:n},a,r)}},{key:"puzzle_getUserLevels",value:function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;this.oDataLoader.request_obf("puzzle_getUserLevels",{uid:e,cid:t},n,a)}},{key:"puzzle_openChar",value:function(e,t,n,a,r,i){var o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:null;this.oDataLoader.request_obf("puzzle_openChar",{uid:e,cid:t,lid:n,iid:a,excl:r},i,o)}},{key:"puzzle_openGame",value:function(e,t,n,a,r){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;this.oDataLoader.request_obf("puzzle_openGame",{uid:e,cid:t,lid:n,iid:a},r,i)}},{key:"puzzle_openTick",value:function(e,t,n,a,r,i){var o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:null;this.oDataLoader.request_obf("puzzle_openTick",{uid:e,cid:t,lid:n,iid:a,tick:r},i,o)}},{key:"puzzle_skipGame",value:function(e,t,n,a,r){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;this.oDataLoader.request_obf("puzzle_skipGame",{uid:e,cid:t,lid:n,iid:a},r,i)}},{key:"puzzle_skipLevel",value:function(e,t,n,a){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;this.oDataLoader.request_obf("puzzle_skipLevel",{uid:e,cid:t,lid:n},a,r)}},{key:"puzzle_getCompletedGames",value:function(e,t,n,a,r){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;""!=n&&""!=a?this.oDataLoader.request_obf("puzzle_getCompletedGames",{uids:e,cid:t,lid:n,iid:a},r,i):this.oDataLoader.request_obf("puzzle_getCompletedGames",{uids:e,cid:t},r,i)}}]),o}();n.default=r},{"./DataLoader":48,"./social/ok":52,"./social/vk":53}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.saveToStorage=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};a.App.net.storageSet(r.DataLoader.key_data,JSON.stringify(e),function(e){console.log("storageSet: ",e),t()})};var a=e("./../app"),r=e("../net/DataLoader")},{"../net/DataLoader":48,"./../app":28}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();n.OK=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=FAPI.Util.getRequestParameters();FAPI.init(e.api_server,e.apiconnection,function(){console.log("ok init")},function(e){console.log("ok init error")})}return a(t,[{key:"getFriends",value:function(){return new Promise(function(n,e){FAPI.Client.call({method:"friends.getAppUsers"},function(e,t){if(!(0<t.uids.length))return n({count:0,items:[]});FAPI.Client.call({method:"users.getInfo",fields:"name,pic50x50,first_name,last_name",uids:t.uids.join(",")},function(e,t){return n({count:t.length,items:t.map(function(e){return{id:e.id,nickname:e.name,photo_50:e.pic50x50,first_name:e.first_name,last_name:e.last_name}})})})})})}},{key:"showInviteFriendsBox",value:function(){FAPI.UI.showInvite("Поиграй в мою игру!")}}]),t}()},{}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();n.VKApi=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),VK.init(function(){console.log("vk.init")},function(){},"5.69")}return a(t,[{key:"getFriends",value:function(){return new Promise(function(t,e){VK.api("friends.get",{fields:"nickname,photo_50"},function(e){return t(e.response)})})}},{key:"showInviteFriendsBox",value:function(){VK.callMethod("showInviteBox")}}]),t}()},{}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return{preload:function(){i.App.phaser.add.sprite(0,0,"bg");var e=i.App.storage.generalData.mission_stat.find(function(e){return e.id===i.App.storage.missionId});i.App.phaser.load.xml("level",s.DataLoader.SERVER_LEVELS_URL+"/"+e.path,!1)},create:function(){g=i.App.factory.photo(446,70),function(){var e=i.App.phaser.add.group(),t=new c.Booster("type0");e.add(t.graph);var n=new c.Booster("type1");n.graph.x=t.graph.width+8,e.add(n.graph);var a=new c.Booster("type2");a.graph.x=n.graph.x+n.graph.width+8,e.add(a.graph),e.x=446,e.y=388}();var e,a,r,t=(e=i.App.phaser.cache.getXML("level"),a=[],r=0,e.querySelectorAll("crossword>word").forEach(function(e,t){var n={id:t+1,img:e.querySelector("image1").textContent,text:e.querySelector("word").textContent,pos:{x:parseInt(e.querySelector("xp1").textContent),y:parseInt(e.querySelector("yp1").textContent),x2:parseInt(e.querySelector("xp2").textContent),y2:parseInt(e.querySelector("yp2").textContent)}};n.direction=n.pos.x===n.pos.x2?0:1,a.push(n),i.App.phaser.load.image("pic"+ ++r,s.DataLoader.SERVER_IMGS_URL+"/"+n.img)}),a);b=t.length,y=[],i.App.storage.storageData&&i.App.storage.storageData.storage&&i.App.storage.storageData.storage.data&&i.App.storage.storageData.storage.data.stages&&i.App.storage.storageData.storage.data.stages[i.App.storage.stageId]&&i.App.storage.storageData.storage.data.stages[i.App.storage.stageId].finishedWords&&(y=i.App.storage.storageData.storage.data.stages[i.App.storage.stageId].finishedWords),function(e){(f=i.App.factory.crossword(e)).fillWords(y),t=f,n=0,t.graph.children.forEach(function(e){var t=e.data.instance;t.isFilled()?n++:m=t}),b-=n,b=Math.max(0,b);var t,n;var r=f.graph;r.x=16,r.y=70,r.children.forEach(function(e){e.children.forEach(function(e){e.onChildInputDown.add(function(e,t){var n=e.parent.parent.data.instance;if(i.App.phaser.input.keyboard.isDown(Phaser.Keyboard.F)&&!n.isFilled())return f.fillWords([n.id]),void(--b<=0?w():x());if(m===n){var a=e.parent.data.instance;if(0===a.label.length||"block"===a.state)return;return m.fillAt(a.id,""),void a._palette.show()}m&&m.free(),(m=n).setState("over"),r.bringToTop(m.graph),v.generate(m.text),console.log(m.text),(0,o.default)(i.App.phaser,g.photo,function(){return g.setPhoto("pic"+m.id)})})})})}(t),function(){v=i.App.factory.letterPalette(164,508,8,2);var o=void 0,s=void 0;v.graph.children.forEach(function(i){i.onChildInputDown.add(function(e,t){var n=m.fill(i.data.instance.label,i.data.instance);if(n){f.map[(n.graph.parent.x+n.graph.x)/m.lw][(n.graph.parent.y+n.graph.y)/m.lh];i.data.instance.hide()}if(m.isFilled()&&n)if(m.isCorrect()){m.setState("block");for(var a=function(e){var t=f.map[m.graph.x/m.lw+e*m.direction][m.graph.y/m.lh+e*!m.direction],n=t.find(function(e){return e.parent.data.instance.id===m.id});t.forEach(function(e){e.parent.data.instance.id!==m.id&&(e.parent.data.instance.fillAt(e.data.instance.id,n.data.instance.label),e.data.instance.setState("block"))})},r=0;r<m.text.length;r++)a(r);o||((o=new u.RightAswer(m.text)).graph.x=0,o.graph.y=0,setTimeout(function(){o.graph.destroy(),o=null,--b<=0?w():x()},2e3))}else s||((s=new u.WrongAnswer).graph.graph.x=286,s.graph.graph.y=465,s.graph.callback=function(){s.graph.graph.destroy(),s=null})})})}(),i.App.phaser.load.onLoadComplete.addOnce(function(){(m=m||f.graph.children[0].data.instance).setState("over"),f.graph.bringToTop(m.graph),v.generate(m.text),g.setPhoto("pic"+m.id),console.log(m.text)},this),function(){var e=new l.ImgBtn("btn_action_normal","btn_action_over");e.graph.x=12,e.graph.y=8;var t=new l.ImgBtn("btn_help_normal","btn_help_over");t.graph.x=568,t.graph.y=8,t.callback=function(){var e=new d.GameFaq;e.onClose=function(){e.graph.destroy(),e=null}};var n=new l.ImgBtn("btn_sound_on_normal","btn_sound_on_over");n.graph.x=704,n.graph.y=8;var a=new p.MoneyBtn;a.graph.x=292,a.graph.y=6;var r=new l.ImgBtn("btn_exit_game_normal","btn_exit_game_over",A);r.graph.x=10,r.graph.y=600}(),i.App.phaser.load.start()},update:function(){},render:function(){}}};var a,i=e("./../app"),r=e("./../effects/fadeOutIn"),o=(a=r)&&a.__esModule?a:{default:a},u=(e("../gui/btn"),e("../gui/message")),s=e("../net/DataLoader"),l=e("../gui/imgBtn"),p=e("../gui/moneyBtn"),d=e("../fotoCross/gameFaq"),c=e("../gui/boosters/booster"),h=e("../net/saveToStorage");var f=void 0,g=void 0,v=void 0,m=null,y=[],_={stages:{1:{missionId:"1",finishedWords:[1,2,3,4,5,6],selected:7}}},b=void 0;function w(){i.App.net.missionEnd(i.App.storage.missionKey,function(e){console.log("missionEnd: ",e),i.App.net.stageEnd(i.App.storage.stageDynamicId,function(e){if(console.log("stageEnd: ",e),e.stage&&e.stage.flag_complete&&1===e.stage.flag_complete)_.stages[i.App.storage.stageId].finished=!0,x(function(){i.App.phaser.state.start("mainMenu")});else{var t=Number(i.App.storage.missionId);t++,i.App.storage.missionId=String(t),_.stages[i.App.storage.stageId].stageDynamicId=i.App.storage.storageData.storage.data.stages[i.App.storage.stageId].stageDynamicId,y=[],x(function(){i.App.net.missionStart(i.App.storage.missionId,function(e){console.log("missionStart: ",e),e.mission&&e.mission.start_key&&(i.App.storage.missionKey=e.mission.start_key),i.App.phaser.state.restart()})})}})},function(e){console.log("missionEnd: ",e)})}function A(){x(function(){i.App.phaser.state.start("mainMenu")})}function x(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},n=[];0<b&&f.graph.children.forEach(function(e){var t=e.data.instance;t.isFilled()&&n.push(t.id)}),i.App.storage.storageData.storage.data.stages&&(_=i.App.storage.storageData.storage.data),_.stages[i.App.storage.stageId]||(_.stages[i.App.storage.stageId]={},console.log(66)),_.stages[i.App.storage.stageId].missionId=i.App.storage.missionId,_.stages[i.App.storage.stageId].finishedWords=n,i.App.storage.storageData.storage.data.stages[i.App.storage.stageId]&&(i.App.storage.storageData.storage.data.stages[i.App.storage.stageId].finishedWords=n),(0,h.saveToStorage)(_,function(){e()})}},{"../fotoCross/gameFaq":33,"../gui/boosters/booster":38,"../gui/btn":39,"../gui/imgBtn":43,"../gui/message":44,"../gui/moneyBtn":45,"../net/DataLoader":48,"../net/saveToStorage":51,"./../app":28,"./../effects/fadeOutIn":29}],55:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return{preload:function(){},create:function(){o.App.phaser.add.sprite(0,0,"bg");var n=new u.StagesList;n.graph.x=70,n.graph.y=200;var a=new c.FriendsList;a.graph.x=160,a.graph.y=470;var e=new l.ImgBtn("btn_action_normal","btn_action_over");e.graph.x=12,e.graph.y=8;var t=new l.ImgBtn("btn_help_normal","btn_help_over");t.graph.x=568,t.graph.y=8,t.callback=function(){var e=new d.GameFaq;e.onClose=function(){e.graph.destroy(),e=null}};var r=new l.ImgBtn("btn_sound_on_normal","btn_sound_on_over");r.graph.x=704,r.graph.y=8;var i=new p.MoneyBtn;i.graph.x=292,i.graph.y=6,o.App.net.storageGet(s.DataLoader.key_data,function(e){console.log("storageGet: ",e);var t={};try{(t=JSON.parse(e.storage.data))&&t.stages&&(o.App.storage.storageData.storage.data=t)}catch(e){}n.fill(o.App.storage.generalData),a.fill(o.App.storage.social.friends),i.setMoney(o.App.storage.userData?o.App.storage.userData.user.money1:"0")})},update:function(){},render:function(){}}};var o=e("../app"),s=(e("./../utils/assetService"),e("../gui/selectLevelBtn"),e("../gui/btn"),e("../net/DataLoader")),u=e("../gui/stagesList"),l=e("../gui/imgBtn"),p=e("../gui/moneyBtn"),d=e("../fotoCross/gameFaq"),c=e("../gui/friendsList")},{"../app":28,"../fotoCross/gameFaq":33,"../gui/btn":39,"../gui/friendsList":42,"../gui/imgBtn":43,"../gui/moneyBtn":45,"../gui/selectLevelBtn":46,"../gui/stagesList":47,"../net/DataLoader":48,"./../utils/assetService":57}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AssetService=void 0;var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),r=e("./../app");var i=null;n.AssetService=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i||(i=this,r.App.phaser.load.image("bg","./data/Background.png"),r.App.phaser.load.image("bg_fot","./data/BackgroundFot.png"),r.App.phaser.load.image("letter_empty","./data/Letter8x8.png"),r.App.phaser.load.image("letter_over","./data/Letter8x8selected.png"),r.App.phaser.load.image("letter_block","./data/Letter8x8blocked.png"),r.App.phaser.load.image("tut_ok_normal","./data/tutorial/btn_ok_normal.png"),r.App.phaser.load.image("tut_ok_over","./data/tutorial/btn_ok_over.png"),r.App.phaser.load.image("tut_bg","./data/tutorial/bg.png"),r.App.phaser.load.atlasXML("assets","./data/sprites.png","./data/sprites.xml"),r.App.phaser.load.json("gdata","./data/gdata.json"),i)}return a(e,[{key:"get",value:function(e){return{atlas:"assets",key:e+".png"}}},{key:"getJson",value:function(){return r.App.phaser.cache.getJSON("gdata")}}]),e}()},{"./../app":28}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AssetService=void 0;var a=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),r=e("./../app");var i=null;n.AssetService=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i||(i=this,r.App.phaser.load.image("bg","./data/Background.png"),r.App.phaser.load.image("bg_fot","./data/BackgroundFot.png"),r.App.phaser.load.image("letter_empty","./data/Letter8x8.png"),r.App.phaser.load.image("letter_over","./data/Letter8x8selected.png"),r.App.phaser.load.image("letter_block","./data/Letter8x8blocked.png"),r.App.phaser.load.image("tut_ok_normal","./data/tutorial/btn_ok_normal.png"),r.App.phaser.load.image("tut_ok_over","./data/tutorial/btn_ok_over.png"),r.App.phaser.load.image("tut_bg","./data/tutorial/bg.png"),r.App.phaser.load.atlasXML("assets","./data/sprites.png","./data/sprites.xml"),r.App.phaser.load.json("gdata","./data/gdata.json"),i)}return a(e,[{key:"get",value:function(e){return{atlas:"assets",key:e+".png"}}},{key:"getJson",value:function(){return r.App.phaser.cache.getJSON("gdata")}}]),e}()},{"./../app":28}]},{},[28]);